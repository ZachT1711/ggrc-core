{{!
    Copyright (C) 2019 Google Inc.
    Licensed under http://www.apache.org/licenses/LICENSE-2.0 <see LICENSE file>
}}

<div class="flex-box flex-box-multi">
  <div class="flex-box width-100">
    {{#if rolesConflict}}
      <div class="width-100">
        <div class="alert alert-verifier">
          <p>
              Please be informed that Assignee and Verifier are the same person.
          </p>
        </div>
      </div>
    {{/if}}
  </div>

  <div class="width-100">
    {{#if infoPaneMode}}
      {{#if isSecondaryRoles}}
        <assessment-custom-roles
          instance:from="instance"
          deferredSave:from="deferredSave"
          onStateChangeDfd:from="onStateChangeDfd"
          setInProgress:from="@setInProgress"
          orderOfRoles:from="orderOfRoles"
          excludeRoles:from="excludedMainRoles"
          conflictRoles:from="conflictRoles">
        </assessment-custom-roles>
      {{else}}
        <assessment-custom-roles
          instance:from="instance"
          deferredSave:from="deferredSave"
          onStateChangeDfd:from="onStateChangeDfd"
          setInProgress:from="@setInProgress"
          orderOfRoles:from="orderOfRoles"
          includeRoles:from="includedMainRoles"
          conflictRoles:from="conflictRoles">
        </assessment-custom-roles>
      {{/if}}
    {{else}}
      {{#is_ML_verification_flow instance}}
        <custom-roles-modal
          instance:from="instance"
          orderOfRoles:from="orderOfRoles"
          conflictRoles:from="conflictRoles"
          isNewInstance:from="isNewInstance"
          includeRoles:from="includedMainRoles"
        />

        {{! Render verifiers between Creators\Assignees and other roles}}
        <assessment-verifiers-modal instance:from="instance"/>

        <custom-roles-modal
          instance:from="instance"
          orderOfRoles:from="orderOfRoles"
          conflictRoles:from="conflictRoles"
          isNewInstance:from="isNewInstance"
          excludeRoles:from="excludedMainRoles"
        />
      {{else}}
        <custom-roles-modal
          instance:from="instance"
          orderOfRoles:from="orderOfRoles"
          conflictRoles:from="conflictRoles"
          isNewInstance:from="isNewInstance"
        />
      {{/is_ML_verification_flow}}
    {{/if}}
  </div>
</div>
